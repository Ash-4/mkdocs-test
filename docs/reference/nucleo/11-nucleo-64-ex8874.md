# Nucleo 64 - EX8874

### One EX8874 motor shield

- Review of **motor shield define** from MotorDrivers.h for F411RE or F446RE  

  ```cpp
    // EX 8874 based shield connected to a 3V3 system with 12-bit (4096) ADC  
    #define EX8874_SHIELD F("EX8874"), \  
      new MotorDriver( 3, 12, UNUSED_PIN, 9, A0, 1.27, 5000, A4), \  
      new MotorDriver(11, 13, UNUSED_PIN, 8, A1, 1.27, 5000, A5)  
  ```

- One EX8874 motor shield would use the standard motor define EX8874_SHIELD.  No modifications are needed.

### Stacked EX8874 motor shields on F411RE F446RE

- When using two EX8874 motor shields, the VIN on one shield can be used to power the Nucleo-144.  
  Cut two traces to disable VIN on the stacked/second shield. &nbsp; [Link to Hardware EX8874 page](../hardware/motorboards/ex-8874.md/#steps-to-stack)  
&nbsp; &nbsp; &nbsp; &nbsp; ![Stacked EX8874 Nucleo-144](/_static/images/nucleo/ex8874-f411re-f446re-stacked-pins.png){: style="width: 55%" align=right}

- Tracks A and B can use the default pins as they would if only one shield was used.  

- Tracks C and D can use the alternates for 8 pins.  
  Short jumpers will be needed to connect the Fault pins.

 <div style="clear: both;"></div>
- A custom motor define will be needed in config.h

```cpp
  #define EX8874_SHIELDX2 F("EX8874_SHIELDX2"), \  
    new MotorDriver( 3, 12, UNUSED_PIN, 9, A0, 1.27, 5000, A4), \  
    new MotorDriver(11, 13, UNUSED_PIN, 8, A1, 1.27, 5000, A5), \  
    new MotorDriver( 2, 10, UNUSED_PIN, 7, A2, 1.27, 5000, 28), \  
    new MotorDriver( 5,  4, UNUSED_PIN, 6, A3, 1.27, 5000, 29)  
  #define MOTOR_SHIELD_TYPE EX8874_SHIELDX2
```
